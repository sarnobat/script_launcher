<!DOCTYPE html>
<html>
<head>
<script src="jquery/jquery-1.9.1.js">
</script>
<script>
$(document).ready(function(){

	// My version of jquery can't do an AJAX post because it doesn't set the content 
	// length automatically, and when I add it manually Chrome says it's an unsafe header
	var body = document.getElementsByTagName("body")[0];
	body.innerHTML = "";
	document.body.style.backgroundColor = "orange";
	var x = new XMLHttpRequest();
	x.open('POST','http://netgear.rohidekar.com:4458', true);
	x.setRequestHeader("Content-type","text/plain");
	x.onreadystatechange = 
		function() {
			if (x.readyState == 4) {
				if (x.status == 200) {
					window.open('', '_self', ''); 
					document.body.style.backgroundColor = "green";
					var response = JSON.parse(x.responseText);
					body.innerHTML = response.data;
				} else {
					document.body.style.backgroundColor = "red";
				}
			}
		};
	x.send(encodeURIComponent(45) + "\n");

});
</script>
</head>
<body>

<textarea id="urls">http://www.yahoo.com</textarea>
<button>Stash this</button>
<div id="items"></div>

</body>
</html>
